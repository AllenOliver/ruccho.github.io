var conversion = {
    "ぁ": [],
    "あ": [],
    "ぃ": ["ﾚ"],
    "い": ["ﾚ"],
    "ぅ": [],
    "う": [],
    "ぇ": [],
    "え": [],
    "ぉ": [],
    "お": [],
    "か": ["カ"],
    "が": ["カ", "か"],
    "き": [],
    "ぎ": ["゛"],
    "く": [],
    "ぐ": ["゛", "く"],
    "け": ["ﾚ", "ナ"],
    "げ": ["ﾚ", "ナ", "け"],
    "こ": [],
    "ご": ["゛", "こ"],
    "さ": [],
    "ざ": ["゛", "さ"],
    "し": [],
    "じ": ["し", "゛"],
    "す": [],
    "ず": ["す", "゛"],
    "せ": [],
    "ぜ": ["せ", "゛"],
    "そ": [],
    "ぞ": ["そ", "゛"],
    "た": ["こ", "ﾅ"],
    "だ": ["た", "゛", "こ", "ご", "ﾅ", "ﾅ゛"],
    "ち": [],
    "ぢ": ["ち", "゛"],
    "っ": [],
    "つ": [],
    "づ": ["つ", "゛"],
    "て": [],
    "で": ["て", "゛"],
    "と": [],
    "ど": ["と", "゛"],
    "な": ["ﾅ"],
    "に": ["ﾚ", "こ"],
    "ぬ": [],
    "ね": [],
    "の": [],
    "は": ["ﾚ"],
    "ば": ["ﾚ", "は", "ﾚ゛", "゛"],
    "ぱ": ["ﾚ", "は", "ﾚ゜", "゜"],
    "ひ": [],
    "び": ["ひ", "゛"],
    "ぴ": ["ひ", "゜"],
    "ふ": ["う", "い"],
    "ぶ": ["う", "い", "い゛"],
    "ぷ": ["う", "い", "い゜"],
    "へ": [],
    "べ": ["へ", "゛"],
    "ぺ": ["へ", "゜"],
    "ほ": ["ﾚ", "ま"],
    "ぼ": ["ﾚ", "ま", "ほ", "゛", "ま゛", "ﾚ゛"],
    "ぽ": ["ﾚ", "ま", "ほ", "゜", "ま゜", "ﾚ゜"],
    "ま": [],
    "み": [],
    "む": ["す"],
    "め": [],
    "も": [],
    "ゃ": [],
    "や": [],
    "ゅ": [],
    "ゆ": [],
    "ょ": [],
    "よ": [],
    "ら": [],
    "り": ["ﾚ"],
    "る": [],
    "れ": [],
    "ろ": [],
    "ゎ": [],
    "わ": [],
    "ゐ": [],
    "ゑ": ["る"],
    "を": ["ち"],
    "ん": [],
    "ァ": ["ノ"],
    "ア": ["ノ"],
    "ィ": [],
    "イ": [],
    "ゥ": [],
    "ウ": [],
    "ェ": [],
    "エ": [],
    "ォ": [],
    "オ": [],
    "カ": [],
    "ガ": ["カ", "゛"],
    "キ": [],
    "ギ": ["キ", "゛"],
    "ク": [],
    "グ": ["ク", "゛"],
    "ケ": [],
    "ゲ": ["ケ", "゛"],
    "コ": [],
    "ゴ": ["コ", "゛"],
    "サ": [],
    "ザ": ["サ"],
    "シ": ["゛", "ノ", "ン"],
    "ジ": ["シ", "ノ", "゛゛", "゛", "ン", "ノ゛", "ン゛"],
    "ス": [],
    "ズ": ["ス", "゛"],
    "セ": [],
    "ゼ": ["セ", "゛"],
    "ソ": ["ノ"],
    "ゾ": ["ノ", "゛", "ノ゛"],
    "タ": [],
    "ダ": ["タ", "゛"],
    "チ": ["ナ"],
    "ヂ": ["ナ", "゛", "チ", "ナ゛"],
    "ッ": ["゛", "ノ", "ン"],
    "ツ": ["゛", "ノ", "ン"],
    "ヅ": ["ツ", "ノ", "゛゛", "゛", "ン", "ノ゛", "ン゛"],
    "テ": ["Ｔ"],
    "デ": ["Ｔ", "テ", "゛", "Ｔ゛"],
    "ト": [],
    "ド": ["ト"],
    "ナ": [],
    "ニ": ["ー"],
    "ヌ": ["ス"],
    "ネ": [],
    "ノ": [],
    "ハ": ["ﾉ"],
    "バ": ["ﾉ", "ハ", "゛", "ﾉ゛"],
    "パ": ["ﾉ", "ハ", "゜", "ﾉ゜"],
    "ヒ": [],
    "ビ": ["ヒ", "゛"],
    "ピ": ["ヒ", "゜"],
    "フ": [],
    "ブ": ["フ", "゛"],
    "プ": ["フ", "゜"],
    "ヘ": [],
    "ベ": ["ヘ", "゛"],
    "ペ": ["ヘ", "゜"],
    "ホ": ["ハ", "オ"],
    "ボ": ["ホ", "゛", "ハ", "バ", "オ", "オ゛"],
    "ポ": ["ホ", "゜", "ハ", "パ", "オ", "オ゜"],
    "マ": [],
    "ミ": ["゛"],
    "ム": [],
    "メ": [],
    "モ": [],
    "ャ": [],
    "ヤ": [],
    "ュ": [],
    "ユ": [],
    "ョ": ["コ"],
    "ヨ": ["コ"],
    "ラ": ["フ"],
    "リ": ["ノ"],
    "ル": ["ﾉ", "ﾚ"],
    "レ": [],
    "ロ": [],
    "ヮ": ["フ"],
    "ワ": ["フ"],
    "ヰ": [],
    "ヱ": ["フ"],
    "ヲ": ["フ"],
    "ン": ["ノ"],
    "ヴ": ["゛", "ウ"],
    "ヵ": [],
    "ヶ": []
}

function convert() {
    var s = document.getElementById("to-convert").value;
    var s_o = "";
    for (var i = 0; i < s.length; i++) {
        var k = "" + s[i];
        if (conversion[k] && conversion[k].length > 0) {
            var j = Math.floor(Math.random() * (conversion[k].length + 1));
            if (j == 0) {
                s_o += s[i];
            } else {
                s_o += conversion[k][j - 1];
            }
        } else {
            s_o += s[i];
        }
    }
    document.getElementById("converted").value = s_o;
    document.getElementById("tweet-button").setAttribute("href", "https://twitter.com/intent/tweet?text=" + encodeURI("「" + s + "」を「" + s_o + "」に変換しました！ https://ruccho.github.io/zatsu/njo_hah") + "&button_hashtag=ンョ゛ハー゛ジェネレーター&ref_src=twsrc%5Etfw");

}